"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[706],{5706:function(n,e,o){o.r(e);e.default={source:"markdown-react-code-preview-loader\n===\n\n[![CI](https://github.com/kktjs/markdown-react-code-preview-loader/actions/workflows/ci.yml/badge.svg)](https://github.com/kktjs/markdown-react-code-preview-loader/actions/workflows/ci.yml)\n[![npm version](https://img.shields.io/npm/v/markdown-react-code-preview-loader.svg)](https://www.npmjs.com/package/markdown-react-code-preview-loader)\n[![npm unpkg](https://img.shields.io/badge/Open%20in-unpkg-blue)](https://uiwjs.github.io/npm-unpkg/#/pkg/markdown-react-code-preview-loader/file/README.md)\n\n\u7d22\u5f15 Markdown \u4e2d\u7684\u793a\u4f8b\u6587\u672c\uff0c\u8f6c\u6362\u4e3a React \u7ec4\u4ef6\u3002\u5f53\u524d\u5305\u662f `webpack` \u7684 `loader`\uff0c\u901a\u8fc7\u914d\u7f6e\u5f53\u524d `loader` \u52a0\u8f7d `markdown` \u6587\u6863\uff0c\u8fd4\u56de\u4e00\u4e2a `JS` \u5bf9\u8c61\uff0c\u5305\u542b `markdown` \u6587\u672c\uff0c`markdown` \u6587\u672c\u4e2d\u7684\u793a\u4f8b\u7d22\u5f15\u3002\n\n## \u5b89\u88c5 Loader\n\n```bash\nnpm i markdown-react-code-preview-loader -D\n```\n\n## \u914d\u7f6e Loader\n\n\u5b89\u88c5\u4f9d\u8d56(loader)\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u5c06 `loader` \u914d\u7f6e\u5230 `webpack` \u914d\u7f6e\u4e2d\uff0c\u901a\u8fc7\u5728 `kkt` \u4e2d\u4e24\u79cd\u914d\u7f6e\u65b9\u6cd5\uff0c\u4e86\u89e3\u5982\u4f55\u4f7f\u7528\u914d\u7f6e `loader`\u3002\n\n**\u7b2c \u2460 \u79cd\u65b9\u6cd5\uff0c\u4f7f\u7528 mdCodeModulesLoader \u65b9\u6cd5**\n\n```ts\n// .kktrc.ts\nimport scopePluginOptions from '@kkt/scope-plugin-options';\nimport { LoaderConfOptions, WebpackConfiguration } from 'kkt';\nimport { mdCodeModulesLoader } from 'markdown-react-code-preview-loader';\n\nexport default (conf: WebpackConfiguration, env: 'development' | 'production', options: LoaderConfOptions) => {\n  // ....\n  conf = mdCodeModulesLoader(conf);\n  // ....\n  return conf;\n};\n```\n\n**\u7b2c \u2461 \u79cd\u65b9\u6cd5\uff0c\u624b\u52a8\u6dfb\u52a0\u914d\u7f6e**\n\n\u5728 Webpack \u4e2d\u914d\u7f6e\u4f7f\u7528\u65b9\u6cd5\u662f\u4e00\u81f4\u7684\u3002\n\n```ts\n// .kktrc.ts\nimport webpack, { Configuration } from 'webpack';\nimport scopePluginOptions from '@kkt/scope-plugin-options';\nimport { LoaderConfOptions } from 'kkt';\n\nexport default (conf: Configuration, env: 'development' | 'production', options: LoaderConfOptions) => {\n  // ....\n  config.module.rules.forEach((ruleItem) => {\n    if (typeof ruleItem === 'object') {\n      if (ruleItem.oneOf) {\n        ruleItem.oneOf.unshift({\n          test: /.md$/,\n          use: [\n            {\n              loader: 'markdown-react-code-preview-loader',\n              options: { lang:[\"jsx\",\"tsx\"] },\n            },\n          ],\n        });\n      }\n    }\n  });\n  // ....\n  return conf;\n};\n```\n\n### options \u53c2\u6570\n\n- lang: \u9700\u8981\u89e3\u6790\u4ee3\u7801\u5757\u7684\u8bed\u8a00\uff0c\u9ed8\u8ba4: `[\"jsx\",\"tsx\"]`\n\n## \u9879\u76ee\u4e2d\u4f7f\u7528\n\n\u6dfb\u52a0 `loader` \u4e4b\u540e\uff0c\u5728\u9879\u76ee\u5de5\u7a0b\u4e2d\u52a0\u8f7d `markdown` \u6587\u672c\u4f7f\u7528\u65b9\u6cd5\uff1a\n\n```jsx\nimport mdObj from 'markdown-react-code-preview-loader/README.md';\n\nmdObj.source       // => `README.md` \u539f\u59cb\u5b57\u7b26\u4e32\u6587\u672c\nmdObj.components   // => \u7ec4\u4ef6\u7d22\u5f15\u5bf9\u8c61\uff0c\u4ece markdown \u7d22\u5f15\u5230\u7684\u793a\u4f8b\u8f6c\u6362\u6210\u7684 React \u7ec4\u4ef6\u3002(\u9700\u8981\u914d\u7f6e meta)\nmdObj.codeBlock    // => \u7ec4\u4ef6\u6e90\u7801\u7d22\u5f15\u5bf9\u8c61\uff0c\u4ece markdown \u7d22\u5f15\u5230\u7684\u793a\u4f8b\u6e90\u7801\u3002(\u9700\u8981\u914d\u7f6e meta)\n```\n\n```js\n{\n  codeBlock: {\n    17: 'import React from ...',\n    77: 'import React from ...',\n    demo12: 'import React from ...'\n  },\n  components: { 17: \u0192, 77: \u0192, demo12: \u0192 },\n  languages: { 17: 'jsx', 77: 'jsx', demo12: 'jsx'},\n  source: \"# Alert \u786e\u8ba4\u5bf9\u8bdd\u6846....\"\n}\n```\n\n```ts\nexport type CodeBlockData = {\n  source: string;\n  components: Record<string | number, React.FC>;\n  codeBlock: Record<string | number, string>;\n  languages: Record<string | number, string>;\n};\n```\n\n## getCodeBlockString \n\n\u4f20\u9012 `markdown` \u6587\u4ef6\u5185\u5bb9\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u8f6c\u6362\u597d\u7684\u9700\u8981\u9884\u89c8\u7684\u4ee3\u7801\u5757\u89e3\u6790\u6570\u636e\u3002\n\n## \u914d\u7f6e meta \u6807\u8bc6\n\n\u6ce8\u610f \u26a0\ufe0f\uff1a\u9700\u8981\u5728\u4ee3\u7801\u5757\u793a\u4f8b\u4e2d\u6dfb\u52a0\u7279\u6b8a\u7684 `meta` \u6807\u8bc6\uff0c`loader` \u624d\u4f1a\u53bb\u7d22\u5f15\u5bf9\u4e8e\u7684 `react` \u793a\u4f8b\uff0c\u8fdb\u884c\u4ee3\u7801\u8f6c\u6362\u3002\n\n1. `mdx:` \u7279\u6b8a\u6807\u8bc6\u524d\u7f00\n2. `mdx:preview` \u63a7\u5236\u662f\u5426\u8fdb\u884c\u8fdb\u884c\u793a\u4f8b\u7d22\u5f15\uff0c\u901a\u8fc7\u5bf9\u5e94\u6240\u5728\u884c\u53f7\uff0c\u83b7\u53d6\u9700\u8981\u7684\u793a\u4f8b\u5bf9\u8c61\u3002\n3. `mdx:preview:demo12` \u901a\u8fc7 `demo12` \u552f\u4e00\u6807\u8bc6\uff0c\u51c6\u786e\u83b7\u53d6\u7d22\u5f15\u7684 `\u793a\u4f8b\u4ee3\u7801` \u6216 `\u793a\u4f8b\u7ec4\u4ef6\u5bf9\u8c61`\u3002\n\n```markdown\n\\```tsx mdx:preview\nimport React from \"react\"\nconst Demo = ()=>{\n  return <div>\u6d4b\u8bd5</div>\n}\n\nexport default Demo\n\\```\n```\n\n```markdown\n\\```tsx mdx:preview:demo12\nimport React from \"react\"\nconst Demo = ()=>{\n  return <div>\u6d4b\u8bd5</div>\n}\n\nexport default Demo\n\\```\n```\n\n## \u5f00\u53d1\n\n```bash\nnpm install   # Install dependencies\nnpm run hoist # Install sub packages dependencies\n\nnpm run watch:loader\nnpm run start\n```\n\n## \u8d21\u732e\u8005\n\n\u4e00\u5982\u65e2\u5f80\uff0c\u611f\u8c22\u6211\u4eec\u51fa\u8272\u7684\u8d21\u732e\u8005\uff01\n\n<a href=\"https://github.com/kktjs/markdown-react-code-preview-loader/graphs/contributors\">\n  <img src=\"https://kktjs.github.io/markdown-react-code-preview-loader/CONTRIBUTORS.svg\" />\n</a>\n\n\u7531 [action-contributors](https://github.com/jaywcjlove/github-action-contributors) \u751f\u6210\u3002\n\n### License\n\nLicensed under the MIT License.",components:{},codeBlock:{},languages:{}}}}]);
//# sourceMappingURL=706.e7f3d4fa.chunk.js.map